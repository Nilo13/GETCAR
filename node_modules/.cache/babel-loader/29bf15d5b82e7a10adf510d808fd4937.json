{"ast":null,"code":"var _jsxFileName = \"D:\\\\projetos-js\\\\get-car\\\\get-car\\\\src\\\\pages\\\\Publicacao\\\\index.js\";\nimport React, { Component, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport { uniqueId } from 'lodash';\nimport { Container, Content } from './styles';\nimport { Form } from '@unform/web';\nimport * as Yup from 'yup';\nimport Logo from \"../../assets/logo.svg\";\nimport Upload from '../../components/Upload';\nimport FileList from '../../components/FileList';\nimport Input from '../../components/Form/Input';\nimport Footer from '../../components/Footer'; //inputs de cadastro dos carros\n\nconst formRef = useRef(null);\n\nasync function handleSubmit(data, {\n  reset\n}) {\n  try {\n    const schema = Yup.object().shape({\n      email: Yup.string().email().required('*Digite seu E-EMAIL'),\n      nomedaagencia: Yup.string().required('*Digite o nome da agência'),\n      nomedogerente: Yup.string().required('*Digite o nome do gerente'),\n      cnpj: Yup.string().required('*Digite seu cnpj'),\n      cep: Yup.string().required('*Digite seu cep'),\n      bairro: Yup.string().required('*Digite seu bairro'),\n      endereco: Yup.string().required('*Digite o nome da rua'),\n      cidade: Yup.string().required('*Digite sua cidade'),\n      telefone: Yup.string().required('*Digite seu telefone')\n    });\n    await schema.validate(data, {\n      abortEarly: false\n    });\n    console.log(data);\n    reset();\n  } catch (err) {\n    if (err instanceof Yup.ValidationError) {\n      const errorMessages = {};\n      err.inner.forEach(error => {\n        errorMessages[error.path] = error.message;\n      });\n      formRef.current.setErrors(errorMessages);\n    }\n  }\n}\n\nclass Publicacao extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      uploadedFiles: []\n    };\n\n    this.handleUpload = files => {\n      const uploadedFiles = files.map(file => ({\n        file,\n        id: uniqueId(),\n        name: file.name,\n        preview: URL.createObjectURL(file)\n      }));\n      this.setState({\n        uploadedFiles: this.state.uploadedFiles.concat(uploadedFiles)\n      });\n    };\n  }\n\n  render() {\n    const {\n      uploadedFiles\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"logo-login\",\n      src: Logo,\n      alt: \"logo, get car\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"bemvindo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, \"Vamos l\\xE1!\"), /*#__PURE__*/React.createElement(Content, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Upload, {\n      onUpload: this.handleUpload,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }), !!uploadedFiles.length && /*#__PURE__*/React.createElement(FileList, {\n      files: uploadedFiles,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 39\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"login-titulo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(Form, {\n      ref: formRef,\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      className: \"input-login\",\n      name: \"ID\",\n      type: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"bentrar\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }, \"ENTRAR\")), /*#__PURE__*/React.createElement(Link, {\n      to: \"/Cadastro\",\n      style: {\n        textDecoration: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"criar-conta\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }, \"CRIAR CONTA\"))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }\n    }));\n  }\n\n}\n\nexport default Publicacao;","map":{"version":3,"sources":["D:/projetos-js/get-car/get-car/src/pages/Publicacao/index.js"],"names":["React","Component","useRef","Link","uniqueId","Container","Content","Form","Yup","Upload","FileList","Input","Footer","formRef","handleSubmit","data","reset","schema","object","shape","email","string","required","nomedaagencia","nomedogerente","cnpj","cep","bairro","endereco","cidade","telefone","validate","abortEarly","console","log","err","ValidationError","errorMessages","inner","forEach","error","path","message","current","setErrors","Publicacao","state","uploadedFiles","handleUpload","files","map","file","id","name","preview","URL","createObjectURL","setState","concat","render","Logo","length","textDecoration"],"mappings":"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","sourcesContent":["import React, {Component, useRef} from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport { uniqueId } from 'lodash'\r\nimport { Container, Content } from './styles'\r\nimport { Form } from '@unform/web'\r\nimport * as Yup from 'yup'\r\n\r\nimport Logo from '../../assets/logo.svg'\r\n\r\nimport Upload from '../../components/Upload'\r\nimport FileList from '../../components/FileList'\r\nimport Input from '../../components/Form/Input'\r\nimport Footer from '../../components/Footer'\r\n\r\n\r\n//inputs de cadastro dos carros\r\n\r\nconst formRef = useRef(null)\r\n\r\n  async function handleSubmit(data, { reset }) {\r\n  try{\r\n    const schema = Yup.object().shape({\r\n      email: Yup.string().email().required('*Digite seu E-EMAIL'),\r\n      nomedaagencia: Yup.string().required('*Digite o nome da agência'),\r\n      nomedogerente: Yup.string().required('*Digite o nome do gerente'),\r\n      cnpj: Yup.string().required('*Digite seu cnpj'),\r\n      cep: Yup.string().required('*Digite seu cep'),\r\n      bairro: Yup.string().required('*Digite seu bairro'),\r\n      endereco: Yup.string().required('*Digite o nome da rua'),\r\n      cidade: Yup.string().required('*Digite sua cidade'),\r\n      telefone: Yup.string().required('*Digite seu telefone'),\r\n    })\r\n    \r\n    await schema.validate(data, {\r\n      abortEarly:false,\r\n    })\r\n\r\n    console.log(data)\r\n\r\n    reset()\r\n  } catch (err) {\r\n    if (err instanceof Yup.ValidationError) {\r\n      const errorMessages = {}\r\n\r\n      err.inner.forEach(error => {\r\n        errorMessages[error.path] = error.message\r\n      })\r\n\r\n      formRef.current.setErrors(errorMessages)\r\n    }\r\n  }\r\n}\r\n\r\nclass Publicacao extends Component {\r\n\r\n  //upload das igm\r\n  state = {\r\n    uploadedFiles: [],\r\n  }\r\n\r\n  handleUpload = files => {\r\n    const uploadedFiles = files.map(file => ({\r\n      file,\r\n      id: uniqueId(),\r\n      name: file.name,\r\n      preview: URL.createObjectURL(file),\r\n    }))\r\n\r\n    this.setState({\r\n      uploadedFiles: this.state.uploadedFiles.concat(uploadedFiles)\r\n    })\r\n\r\n  } \r\n\r\n  render() {\r\n    const { uploadedFiles } = this.state\r\n\r\n    return (\r\n      <>\r\n      <Container>\r\n\r\n        <Link to=\"/\">\r\n          <img className=\"logo-login\" src={Logo} alt=\"logo, get car\"/>\r\n        </Link>\r\n\r\n        <h1 className=\"bemvindo\">Vamos lá!</h1>\r\n\r\n        <Content>\r\n          <Upload onUpload={this.handleUpload} />\r\n          { !!uploadedFiles.length && <FileList files={uploadedFiles}/>}\r\n        </Content>\r\n        \r\n      </Container>\r\n      \r\n      <div className=\"box-login\">\r\n        <h2 className=\"login-titulo\">Login</h2>\r\n        <Form ref={formRef} onSubmit={handleSubmit}>\r\n          <Input className=\"input-login\" name=\"ID\" type=\"password\" />\r\n          <button className=\"bentrar\" type=\"submit\">ENTRAR</button>\r\n        </Form>\r\n        <Link to=\"/Cadastro\" style={{ textDecoration: 'none'}}>\r\n          <p className=\"criar-conta\">CRIAR CONTA</p>\r\n        </Link>\r\n      </div>\r\n\r\n      <Footer/>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Publicacao;"]},"metadata":{},"sourceType":"module"}